{"version":3,"sources":["views/todo-view.js"],"names":["TodoView","Backbone","View","extend","tagName","click","initialize","this","food","$","model","render","$el","html","get","prop","title","self","brandName","calories","checked","toggleService","selectedFoods","console","log","create","newAttributes"],"mappings":"YAAA,IAAIA,UAAWC,SAASC,KAAKC,QAA7BC,QAAIJ,KAEFI,QAGEC,MAAS,iBAIXC,WAAY,WADZC,KAAAC,KAAAC,EAAA,aACAH,KAAAA,SAAYC,KAAAG,MAAA,SAAWH,KAAAI,SAMvBA,OAAQ,WAWR,MAZAJ,MAAAK,IAAAC,KACAF,mDAEIJ,KAAAG,MAAAI,IAAA,aAAA,gBAKFP,KAAAG,MAAqBI,IAArB,SAAqCJ,2CACrCH,KAAAG,MAAAI,IAAA,YAAA,WADAP,KAAKE,EAAE,SAASM,KAAK,UAAWR,KAAKG,MAAMI,IAAI,YAIjDP,MAIIS,cAAOC,WACPC,GAAAA,GAAAA,IACAC,QACAC,MAAAA,EAASH,MAAKP,IAAMI,SAJxBI,UAAAD,EAAAP,MAAAI,IAAA,aA7BkCK,SAAAF,EAAAP,MAAAI,IAAA,YAiC9BM,QAASH,EAAKP,MAAMI,IAAI,aAO1BO,cAAA,WACAC,KAAAA,MAAAA,SACAC,KAAAA,KAAQC,KAAIF,KA1ChBA,cAAAG,OAAAlB,KAAAmB,iBA0CIH,QAAQC,IAAIF","file":"todo-view.js","sourcesContent":["var TodoView = Backbone.View.extend({\r\n\r\n  tagName: 'li',\r\n\r\n  events: {\r\n    'click': 'toggleService'\r\n  },\r\n\r\n  // Called when the view is first created\r\n  initialize: function() {\r\n    this.food = $('#foodList');\r\n    this.listenTo(this.model, 'change', this.render);\r\n  },\r\n\r\n  // Re-render the titles of the todo item.\r\n  render: function() {\r\n    this.$el.html(\r\n      '<input type=\"radio\" value=\"\" name=\"food\"/>'\r\n      + '<span>' + this.model.get('brandName') + '</span>'\r\n      + '<span>' + this.model.get('title') + '</span>'\r\n      + '<span class=\"calories\">calories: ' + this.model.get('calories') + '</span>'\r\n    );\r\n    this.$('input').prop('checked', this.model.get('checked'));\r\n    return this;\r\n  },\r\n\r\n  // 新建属性\r\n\tnewAttributes: function () {\r\n    var self = this;\r\n\t\treturn {\r\n      title: self.model.get('title'),\r\n      brandName: self.model.get('brandName'), // 店铺名\r\n      calories: self.model.get('calories'),\r\n      checked: self.model.get('checked') // 选中状态\r\n    };\r\n\t},\r\n\r\n  toggleService: function() {\r\n\t\tthis.model.toggle();\r\n    this.food.hide(500);\r\n    // 保存到localStorage中 重要步骤！！ 直接传入this.model是不能保存到localStorage中的\r\n    selectedFoods.create(this.newAttributes());\r\n    console.log(selectedFoods);\r\n\t}\r\n});\r\n"]}